<html>

    <head>
        <script type="application/javascript" src="lib/d3.v3.min.js"></script>
    </head>

    <body>
       <svg></svg>
        <script>
        
        var dataset = [{age:3},{age:32},{age:67},{age:6},{age:8},{age:23},{age:56},{age:8},{age:23},{age:5}]
        //il sort modifica il dataset
        dataset.sort(function(a,b){
                     return d3.descending(a.age,b.age)
                     })
        //il filter crea un nuovo data set
        newDataset = dataset.filter(function(d){
            return d.age < 10            
        })
        d3.select('svg')
            .selectAll('rect')
            .data(newDataset)
            .enter()
            .append('rect')
            .attr('width', 5)
            .attr('height', function(d,i){
            return d.age;
        })
            .attr('x',function(d,i){
            return i*6
        })
        </script>
    </body>
</html>
