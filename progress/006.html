<!DOCTYPE html>
<html>
  <head>
      <script type="text/javascript" src="./lib/d3.v3.min.js"></script>
  </head>
  <body>
      <svg width="10000">
      </svg>
      <script>
     
          d3.csv('athletes_sochi.csv', function(data){
              console.log(data) 
              //console.log(data[0].age)
              
              d3.select('svg') //il codice seguente dice che per ogni oggetto nel file crea un rettangolo
                .selectAll('rect') //prepara l'oggetto di tipo rect perch√® voglio unirli a questo data set
                .data(data)
                .enter() 
                .append('rect')
                     .attr('height', 0)
                .attr('width', 5)
                .attr('x', function(d,i){
                  return i*6
              })
                .attr('y', function(d,i){
                      return 100-d.age                     
                      })
              .attr('opacity',0)
                .transition()
                .duration(1500)
              .delay(function (d,i){
                  return 50*i                  
              })
              .attr('height', function(d,i){
                          return d.age                      
                          })
                .attr('opacity',1)
              
          })
      </script>
  </body>
</html>